<!-- views/space_edit.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
	<%- include('partials/head') %>	
	<title>Edit <%= spaceID %>| ply</title>
</head>
<body>		
	<section class="topmatter">	
		<nav role="navigation">
			<button class="logo" style="display: block;">ply</button>
		</nav>	
	</section>
	<div class="js-modal-wrapper">
		<div class="cancel__modal__overlay"></div>
		<div class="modal__wrapper">
			<div class="modal__dialog js-modal-dialog modal__cancel" role="dialog" aria-labelledby="login__legend" tabindex="-1">
				<h4>Discard edits?</h4>
				<button class="cancel__action">Cancel</button>
				<button class="confirm__action">Discard</button>
			</div>
		</div>	
		<div class="modal__wrapper">
			<div class="modal__dialog js-modal-dialog modal__delete" role="dialog" aria-labelledby="login__legend" tabindex="-1">
				<h4>Delete space?</h4>
				<button class="cancel__action">Cancel</button>
				<button class="confirm__action">Delete</button>
			</div>
		</div>	
	</div>

	<section class="static form__wrapper create space">
		<form action="/api/space_create" method=POST>
			<h1>Edit <%= spaceID %></h1>
			<fieldset name="title">
				<legend>Title</legend>
				<div class="input__group">									
					<input type="text" name="title" id="title" class="animated__label" value="<%= title %>" required />
					<label for="title" hidden>Title</label>		
					<p class="hint">e.g. "Heated garage space" or "Sunlit artist studio"</p>					
				</div>
			</fieldset>
			<fieldset name="address-info" class="js-create-address">
				<legend>Address</legend>
				<div class="input__group">					
					<input type="text" name="place" id="pac-input">					
					<p class="hint">Enter your address here, and we'll fill out the rest!</p>
				</div>
				<div class="input__group">
					<input type="text" name="street" id="street" class="animated__label" value="<%= street %>" required/>
					<label for="street">Street address</label>
				</div>
				<div class="input__group">
					<input type="text" name="city" id="city" class="animated__label" value="<%= city %>" required/>
					<label for="city">City</label>
				</div>
				<div class="input__group mdl-selectfield">					
					<select name="state" id="state" disabled>
						<option value="" disabled selected>State</option>
						<option value="AL">Alabama</option>
						<option value="AK">Alaska</option>
						<option value="AZ">Arizona</option>
						<option value="AR">Arkansas</option>
						<option value="CA">California</option>
						<option value="CO">Colorado</option>
						<option value="CT">Connecticut</option>
						<option value="DE">Delaware</option>
						<option value="DC">District Of Columbia</option>
						<option value="FL">Florida</option>
						<option value="GA">Georgia</option>
						<option value="HI">Hawaii</option>
						<option value="ID">Idaho</option>
						<option value="IL">Illinois</option>
						<option value="IN">Indiana</option>
						<option value="IA">Iowa</option>
						<option value="KS">Kansas</option>
						<option value="KY">Kentucky</option>
						<option value="LA">Louisiana</option>
						<option value="ME">Maine</option>
						<option value="MD">Maryland</option>
						<option value="MA">Massachusetts</option>
						<option value="MI">Michigan</option>
						<option value="MN">Minnesota</option>
						<option value="MS">Mississippi</option>
						<option value="MO">Missouri</option>
						<option value="MT">Montana</option>
						<option value="NE">Nebraska</option>
						<option value="NV">Nevada</option>
						<option value="NH">New Hampshire</option>
						<option value="NJ">New Jersey</option>
						<option value="NM">New Mexico</option>
						<option value="NY">New York</option>
						<option value="NC">North Carolina</option>
						<option value="ND">North Dakota</option>
						<option value="OH">Ohio</option>
						<option value="OK">Oklahoma</option>
						<option value="OR">Oregon</option>
						<option value="PA">Pennsylvania</option>
						<option value="RI">Rhode Island</option>
						<option value="SC">South Carolina</option>
						<option value="SD">South Dakota</option>
						<option value="TN">Tennessee</option>
						<option value="TX">Texas</option>
						<option value="UT">Utah</option>
						<option value="VT">Vermont</option>
						<option value="VA">Virginia</option>
						<option value="WA">Washington</option>
						<option value="WV">West Virginia</option>
						<option value="WI">Wisconsin</option>
						<option value="WY">Wyoming</option>
					</select>
					<label for="state">State</label>
				</div>
				<div class="input__group">
					<input type="text" name="zip" id="zip" pattern="(\d{5}([\-]\d{4})?)" class="animated__label" value="<%= zip %>" required/>
					<label for="zip">Zip Code</label>
				</div>
				<input type="hidden" name="lat" id="lat-input" value="<%= lat %>">
				<input type="hidden" name="lng" id="lng-input" value="<%= lng %>">
			</fieldset>
			<fieldset name="availability">
				<legend>Availability</legend>
				<div>
					<input type="checkbox" name="hourly" id="hourlyAvail" value="hourly" <% hourlyAvail ? "checked" : "" %>/>
					<label for="hourlyAvail" class="checkbox__label"><i class="material-icons" aria-hidden="true">access_time</i> Hourly</label>
				</div>
				<div>
					<input type="checkbox" name="daily" id="dailyAvail" value="daily" <% dailyAvail ? "checked" : "" %>/>
					<label for="hourlyAvail"  class="checkbox__label"><i class="material-icons">date_range</i> Daily</label>
				</div>
				<div>
					<input type="checkbox" name="monthly" id="monthlyAvail" value="monthly" <% monthlyAvail ? "checked" : "" %>/>
					<label for="monthlyAvail"  class="checkbox__label"><i class="material-icons">date_range</i> Monthly</label>
				</div>
				<div>
					<input type="checkbox" name="longTerm" id="longTerm" value="longTerm" <% longTerm ? "checked" : "" %>/>
					<label for="longTerm" class="checkbox__label"><i class="material-icons" aria-hidden="true">update</i> Available for long-term storage?</label>
				</div>
			</fieldset>
			<fieldset name="amenities">
				<legend>Any amenities?</legend>
				<div>
					<input type="checkbox" name="electricity" id="electricity" value="electricity" <% electricity ? "checked" : "" %>/>
					<label for="electricity" class="checkbox__label"><i class="material-icons" aria-hidden="true">power</i> Electricity</label>
				</div>
				<div>
					<input type="checkbox" name="heat" id="heat" value="heat" <% heat ? "checked" : "" %>/>
					<label for="heat" class="checkbox__label"><i class="material-icons" aria-hidden="true">whatshot</i> Heat</label>
				</div>
				<div>
					<input type="checkbox" name="water" id="water" value="water" <% water ? "checked" : "" %>/>
					<label for="water" class="checkbox__label"><i class="material-icons" aria-hidden="true">format_color_fill</i> Water</label>
				</div>
				<div>
					<input type="checkbox" name="bathroom" id="bathroom" value="bathroom" <% bathroom ? "checked" : "" %>/>
					<label for="bathroom" class="checkbox__label"><i class="material-icons" aria-hidden="true">room_service</i> Bathroom</label>
				</div>
			</fieldset>
			<fieldset name="description">
					<legend>Description</legend>
					<label class="label__regular" for="description">Let people know what makes your space unique!</label>			
					<textarea id="description" class="space__description" maxlength="275" cols="50" rows="10" placeholder="Here's where you can share information that doesn't fit into the rest of the form. (Limit 255 characters)" value="<%= description %>"></textarea>	
			</fieldset>
			<fieldset name="photos">
				<legend>Photo</legend>
				<div class="fileupload__wrapper">
					<div class="img__wrapper">
						<img id="img-uploaded" src="<%= imgurl %>" alt="your image" />	
					</div>	
					<input type="file" name="photos" id="photos" class="inputfile" />
					<label for="photos" class="filelabel"><i class="material-icons" aria-hidden="true">add_a_photo</i> Add a photo</label>	
				</div>				
			</fieldset>

			<div class="edit__buttons">
				<button class="delete js-delete-space">Delete space?</button>						
				<button class="cancel js-cancel">Cancel changes</button>
				<button class="update js-update" type="submit">Confirm &amp; update</button>
			</div>
		</form>
	</section>


	

	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD37bTXyBCJV9iMHnfYZVKZK3-9oKq_vXM&libraries=places&callback=initAutocomplete" async defer></script>	
	<script type="text/javascript" src="/js/index.js"></script>
</body>
</html>